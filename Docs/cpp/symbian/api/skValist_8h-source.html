<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>skValist.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; </center>
<hr><h1>skValist.h</h1><div class="fragment"><pre>00001 <span class="comment">/*</span>
00002 <span class="comment">  Copyright 1996-2003</span>
00003 <span class="comment">  Simon Whiteside</span>
00004 <span class="comment"></span>
00005 <span class="comment">  This library is free software; you can redistribute it and/or</span>
00006 <span class="comment">  modify it under the terms of the GNU Lesser General Public</span>
00007 <span class="comment">  License as published by the Free Software Foundation; either</span>
00008 <span class="comment">  version 2 of the License, or (at your option) any later version.</span>
00009 <span class="comment"></span>
00010 <span class="comment">  This library is distributed in the hope that it will be useful,</span>
00011 <span class="comment">  but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
00012 <span class="comment">  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
00013 <span class="comment">  Lesser General Public License for more details.</span>
00014 <span class="comment"></span>
00015 <span class="comment">  You should have received a copy of the GNU Lesser General Public</span>
00016 <span class="comment">  License along with this library; if not, write to the Free Software</span>
00017 <span class="comment">  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</span>
00018 <span class="comment"></span>
00019 <span class="comment">  * $Id: skValist_8h-source.html,v 1.7 2004/12/17 21:31:15 sdw Exp $</span>
00020 <span class="comment">  */</span>
00021 
00022 <span class="preprocessor">#ifndef skVALIST_H</span>
00023 <span class="preprocessor"></span><span class="preprocessor">#define skVALIST_H</span>
00024 <span class="preprocessor"></span>
00025 
00026 <span class="preprocessor">#include "skGeneral.h"</span>
00027 <span class="preprocessor">#include "skBoundsException.h"</span>
00028     
00029 
<a name="l00033"></a><a class="code" href="classskTVAList.html">00033</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">class </span>CLASSEXPORT skTVAList 
00034 #ifdef __SYMBIAN32__
00035 : <span class="keyword">public</span> CBase
00036 #endif
00037 {         
00038  <span class="keyword">public</span>:
00042   skTVAList();
00043 <span class="preprocessor">#ifndef __SYMBIAN32__</span>
00044 <span class="preprocessor"></span>
00048   skTVAList(<span class="keyword">const</span> <a class="code" href="classskTVAList.html">skTVAList&lt;T&gt;</a>&amp;);
00049 <span class="preprocessor">#endif</span>
00050 <span class="preprocessor"></span>
00053   <span class="keyword">virtual</span> ~skTVAList();                                 
00058   skTVAList&amp; operator=(<span class="keyword">const</span> <a class="code" href="classskTVAList.html">skTVAList&lt;T&gt;</a>&amp;);
00062   <span class="keywordtype">void</span> moveFrom(<a class="code" href="classskTVAList.html">skTVAList&lt;T&gt;</a>&amp;);
00066   <span class="keywordtype">void</span>  clear();                                        
00070   USize entries() <span class="keyword">const</span>;
00075   <span class="keywordtype">void</span>  deleteElt(USize  n);
00080   <span class="keywordtype">void</span>  prepend(<span class="keyword">const</span> T &amp;t);
00086   <span class="keywordtype">void</span>  insert(<span class="keyword">const</span> T &amp;t,USize index);
00091   <span class="keywordtype">void</span>  append(<span class="keyword">const</span> T &amp;t);
00095   <span class="keywordtype">void</span>  remove(<span class="keyword">const</span> T &amp;t);     
00101   T&amp; operator[](USize  n) <span class="keyword">const</span>;
00106   <span class="keywordtype">int</span> index(<span class="keyword">const</span> T &amp;t) <span class="keyword">const</span>;
00111   <span class="keywordtype">bool</span>  contains(<span class="keyword">const</span> T &amp;t) <span class="keyword">const</span>;
00116   <span class="keywordtype">void</span>  growTo(USize new_size);
00120   USize getArraySize() <span class="keyword">const</span>;
00121 <span class="preprocessor">#ifdef __SYMBIAN32__</span>
00122 <span class="preprocessor"></span>
00127   operator TCleanupItem();
00132   <span class="keyword">static</span> <span class="keywordtype">void</span> Cleanup(TAny * s);
00133 <span class="preprocessor">#endif</span>
00134 <span class="preprocessor"></span> <span class="keyword">protected</span>:
00138   <span class="keywordtype">int</span>   findElt(<span class="keyword">const</span> T &amp;t) <span class="keyword">const</span>;
00143   <span class="keywordtype">void</span>  grow();
00148   <span class="keywordtype">void</span> createArray();
<a name="l00152"></a><a class="code" href="classskTVAList.html#n0">00152</a>   T*  m_Array;  
<a name="l00156"></a><a class="code" href="classskTVAList.html#n1">00156</a>   USize m_ArraySize;
<a name="l00160"></a><a class="code" href="classskTVAList.html#n2">00160</a>   USize m_Entries;
00161 };        
00162 
00163 <span class="preprocessor">#ifdef __gnuc__</span>
00164 <span class="preprocessor"></span><span class="preprocessor">#define skTVALIST_PRE template &lt;class T&gt; </span>
00165 <span class="preprocessor"></span><span class="preprocessor">#else</span>
00166 <span class="preprocessor"></span><span class="preprocessor">#define skTVALIST_PRE template &lt;class T&gt; </span>
00167 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00168 <span class="preprocessor"></span>
00169 
00170 <span class="comment">//-----------------------------------------------------------------</span>
<a name="l00171"></a><a class="code" href="classskTVAList.html#a0">00171</a> skTVALIST_PRE <span class="keyword">inline</span> <a class="code" href="classskTVAList.html#a0">skTVAList&lt;T&gt;::skTVAList</a>()
00172 <span class="comment">//-----------------------------------------------------------------</span>
00173   :m_Array(0),m_ArraySize(0),m_Entries(0)
00174 {
00175 }
00176 <span class="preprocessor">#ifndef __SYMBIAN32__</span>
00177 <span class="preprocessor"></span><span class="comment">//-----------------------------------------------------------------</span>
00178 skTVALIST_PRE <span class="keyword">inline</span> <a class="code" href="classskTVAList.html#a0">skTVAList&lt;T&gt;::skTVAList</a>(<span class="keyword">const</span> skTVAList&amp; l)
00179 <span class="comment">//-----------------------------------------------------------------</span>
00180   : m_ArraySize(l.m_ArraySize),m_Entries(l.m_Entries)
00181 {
00182   <span class="keywordflow">if</span>(m_ArraySize){
00183     <a class="code" href="classskTVAList.html#n0">m_Array</a>=skARRAY_NEW(T,m_ArraySize);
00184     <span class="keywordflow">for</span> (USize x=0;x&lt;<a class="code" href="classskTVAList.html#n2">m_Entries</a>;x++)
00185       <a class="code" href="classskTVAList.html#n0">m_Array</a>[x]=l.m_Array[x];
00186   }<span class="keywordflow">else</span>
00187     <a class="code" href="classskTVAList.html#n0">m_Array</a> = 0;
00188 }
00189 <span class="preprocessor">#endif</span>
00190 <span class="preprocessor"></span><span class="comment">//-----------------------------------------------------------------</span>
<a name="l00191"></a><a class="code" href="classskTVAList.html#a1">00191</a> skTVALIST_PRE <span class="keyword">inline</span> <a class="code" href="classskTVAList.html#a1">skTVAList&lt;T&gt;::~skTVAList</a>()
00192 <span class="comment">//-----------------------------------------------------------------</span>
00193 {
00194   <span class="keywordflow">if</span>(m_Array)
00195     <span class="keyword">delete</span> [] <a class="code" href="classskTVAList.html#n0">m_Array</a>;
00196 }
00197 <span class="comment">//-----------------------------------------------------------------</span>
<a name="l00198"></a><a class="code" href="classskTVAList.html#b2">00198</a> skTVALIST_PRE <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classskTVAList.html#b2">skTVAList&lt;T&gt;::createArray</a>()
00199 <span class="comment">//-----------------------------------------------------------------</span>
00200 {
00201   <span class="keywordflow">if</span> (<a class="code" href="classskTVAList.html#n1">m_ArraySize</a>==0)
00202     <a class="code" href="classskTVAList.html#n1">m_ArraySize</a>=1;
00203   <span class="keywordflow">if</span> (m_ArraySize)
00204     <a class="code" href="classskTVAList.html#n0">m_Array</a>=skARRAY_NEW(T,<a class="code" href="classskTVAList.html#n1">m_ArraySize</a>);
00205 }
00206 <span class="comment">//-----------------------------------------------------------------</span>
<a name="l00207"></a><a class="code" href="classskTVAList.html#a4">00207</a> skTVALIST_PRE <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classskTVAList.html#a4">skTVAList&lt;T&gt;::clear</a>()
00208 <span class="comment">//-----------------------------------------------------------------</span>
00209 {
00210   <a class="code" href="classskTVAList.html#n2">m_Entries</a>=0;
00211   <span class="keywordflow">if</span>(m_Array)
00212     <span class="keyword">delete</span> [] <a class="code" href="classskTVAList.html#n0">m_Array</a>;
00213   m_Array=0;
00214   <a class="code" href="classskTVAList.html#n1">m_ArraySize</a>=0;
00215 }
00216 <span class="comment">//-----------------------------------------------------------------</span>
<a name="l00217"></a><a class="code" href="classskTVAList.html#a5">00217</a> skTVALIST_PRE <span class="keyword">inline</span> USize <a class="code" href="classskTVAList.html#a5">skTVAList&lt;T&gt;::entries</a>() <span class="keyword">const</span>
00218      <span class="comment">//-----------------------------------------------------------------</span>
00219 {
00220   <span class="keywordflow">return</span> m_Entries;
00221 }
00222 <span class="comment">//-----------------------------------------------------------------</span>
<a name="l00223"></a><a class="code" href="classskTVAList.html#a15">00223</a> skTVALIST_PRE <span class="keyword">inline</span> USize <a class="code" href="classskTVAList.html#a15">skTVAList&lt;T&gt;::getArraySize</a>() <span class="keyword">const</span>
00224 <span class="comment">//-----------------------------------------------------------------</span>
00225 {
00226   <span class="keywordflow">return</span> m_ArraySize;
00227 }
00228 <span class="comment">//-----------------------------------------------------------------</span>
<a name="l00229"></a><a class="code" href="classskTVAList.html#a6">00229</a> skTVALIST_PRE <span class="keywordtype">void</span> <a class="code" href="classskTVAList.html#a6">skTVAList&lt;T&gt;::deleteElt</a>(USize  n)
00230 <span class="comment">//-----------------------------------------------------------------</span>
00231 {
00232   assert(n&lt;<a class="code" href="classskTVAList.html#n2">m_Entries</a>);
00233   <span class="keywordflow">if</span> (n&gt;=<a class="code" href="classskTVAList.html#n2">m_Entries</a>)
00234 <span class="preprocessor">#ifdef EXCEPTIONS_DEFINED</span>
00235 <span class="preprocessor"></span>    <span class="keywordflow">throw</span> <a class="code" href="classskBoundsException.html">skBoundsException</a>(<span class="stringliteral">"Invalid index to DeleteElt"</span>,__FILE__,__LINE__);
00236 <span class="preprocessor">#else</span>
00237 <span class="preprocessor"></span>  ExitSystem();
00238 <span class="preprocessor">#endif</span>
00239 <span class="preprocessor"></span>  <span class="keywordflow">else</span>{
00240     <span class="keywordflow">for</span> (USize x=n;x&lt;<a class="code" href="classskTVAList.html#n2">m_Entries</a>-1;x++)
00241       <a class="code" href="classskTVAList.html#n0">m_Array</a>[x]=<a class="code" href="classskTVAList.html#n0">m_Array</a>[x+1];
00242     <a class="code" href="classskTVAList.html#n2">m_Entries</a>--;
00243   }
00244 }
00245 <span class="comment">//-----------------------------------------------------------------</span>
<a name="l00246"></a><a class="code" href="classskTVAList.html#a8">00246</a> skTVALIST_PRE <span class="keywordtype">void</span> <a class="code" href="classskTVAList.html#a8">skTVAList&lt;T&gt;::insert</a>(<span class="keyword">const</span> T &amp;t,USize index)
00247 <span class="comment">//-----------------------------------------------------------------</span>
00248 {
00249   assert(index&lt;=<a class="code" href="classskTVAList.html#n2">m_Entries</a>);
00250   <span class="keywordflow">if</span> (index&gt;<a class="code" href="classskTVAList.html#n2">m_Entries</a>)
00251 <span class="preprocessor">#ifdef EXCEPTIONS_DEFINED</span>
00252 <span class="preprocessor"></span>    <span class="keywordflow">throw</span> <a class="code" href="classskBoundsException.html">skBoundsException</a>(<span class="stringliteral">"Invalid index to Insert"</span>,__FILE__,__LINE__);
00253 <span class="preprocessor">#else</span>
00254 <span class="preprocessor"></span>  ExitSystem();
00255 <span class="preprocessor">#endif</span>
00256 <span class="preprocessor"></span>  <span class="keywordflow">if</span> (<a class="code" href="classskTVAList.html#n0">m_Array</a>==0)
00257     <a class="code" href="classskTVAList.html#b2">createArray</a>();
00258   <span class="keywordflow">if</span> (<a class="code" href="classskTVAList.html#n1">m_ArraySize</a>==<a class="code" href="classskTVAList.html#n2">m_Entries</a>)
00259     <a class="code" href="classskTVAList.html#b1">grow</a>();
00260   <span class="keywordflow">if</span> (index&lt;<a class="code" href="classskTVAList.html#n2">m_Entries</a>){
00261     <span class="keywordflow">for</span> (USize x=<a class="code" href="classskTVAList.html#n2">m_Entries</a>;x&gt;index;x--)
00262       <a class="code" href="classskTVAList.html#n0">m_Array</a>[x]=<a class="code" href="classskTVAList.html#n0">m_Array</a>[x-1];
00263   }
00264   <a class="code" href="classskTVAList.html#n0">m_Array</a>[index]=t;
00265   <a class="code" href="classskTVAList.html#n2">m_Entries</a>++;
00266 }
00267 <span class="comment">//-----------------------------------------------------------------</span>
<a name="l00268"></a><a class="code" href="classskTVAList.html#a7">00268</a> skTVALIST_PRE <span class="keywordtype">void</span> <a class="code" href="classskTVAList.html#a7">skTVAList&lt;T&gt;::prepend</a>(<span class="keyword">const</span> T &amp;t)
00269 <span class="comment">//-----------------------------------------------------------------</span>
00270 {
00271   <span class="keywordflow">if</span> (<a class="code" href="classskTVAList.html#n0">m_Array</a>==0)
00272     <a class="code" href="classskTVAList.html#b2">createArray</a>();
00273   <span class="keywordflow">if</span> (<a class="code" href="classskTVAList.html#n1">m_ArraySize</a>==<a class="code" href="classskTVAList.html#n2">m_Entries</a>)
00274     <a class="code" href="classskTVAList.html#b1">grow</a>();
00275   <a class="code" href="classskTVAList.html#n2">m_Entries</a>++;
00276   <span class="keywordflow">for</span> (USize x=<a class="code" href="classskTVAList.html#n2">m_Entries</a>-1;x&gt;=1;x--)
00277     <a class="code" href="classskTVAList.html#n0">m_Array</a>[x]=<a class="code" href="classskTVAList.html#n0">m_Array</a>[x-1];
00278   m_Array[0]=t;
00279 }
00280 <span class="comment">//-----------------------------------------------------------------</span>
<a name="l00281"></a><a class="code" href="classskTVAList.html#a9">00281</a> skTVALIST_PRE <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classskTVAList.html#a9">skTVAList&lt;T&gt;::append</a>(<span class="keyword">const</span> T &amp;t)
00282 <span class="comment">//-----------------------------------------------------------------</span>
00283 {
00284   <span class="keywordflow">if</span> (<a class="code" href="classskTVAList.html#n0">m_Array</a>==0)
00285     <a class="code" href="classskTVAList.html#b2">createArray</a>();
00286   <span class="keywordflow">if</span> (<a class="code" href="classskTVAList.html#n1">m_ArraySize</a>==<a class="code" href="classskTVAList.html#n2">m_Entries</a>)
00287     <a class="code" href="classskTVAList.html#b1">grow</a>();
00288   <a class="code" href="classskTVAList.html#n0">m_Array</a>[<a class="code" href="classskTVAList.html#n2">m_Entries</a>]=t;
00289   <a class="code" href="classskTVAList.html#n2">m_Entries</a>++;
00290 }
00291 <span class="comment">//-----------------------------------------------------------------</span>
<a name="l00292"></a><a class="code" href="classskTVAList.html#a10">00292</a> skTVALIST_PRE <span class="keywordtype">void</span> <a class="code" href="classskTVAList.html#a10">skTVAList&lt;T&gt;::remove</a>(<span class="keyword">const</span> T &amp;t)
00293 <span class="comment">//-----------------------------------------------------------------</span>
00294 {
00295   <span class="keywordtype">int</span> <a class="code" href="classskTVAList.html#a12">index</a> = <a class="code" href="classskTVAList.html#b0">findElt</a>(t);
00296   assert(index&gt;=0 &amp;&amp; <span class="stringliteral">"VAList does not contain item"</span>!=0);
00297   <span class="keywordflow">if</span> (index&gt;=0){
00298     <span class="keywordflow">for</span> (USize x=(USize)index;x&lt;<a class="code" href="classskTVAList.html#n2">m_Entries</a>-1;x++)
00299       <a class="code" href="classskTVAList.html#n0">m_Array</a>[x]=<a class="code" href="classskTVAList.html#n0">m_Array</a>[x+1];
00300 
00301     <a class="code" href="classskTVAList.html#n2">m_Entries</a>--;
00302   }
00303 }
00304 <span class="comment">//-----------------------------------------------------------------</span>
<a name="l00305"></a><a class="code" href="classskTVAList.html#a11">00305</a> skTVALIST_PRE <span class="keyword">inline</span> T&amp; <a class="code" href="classskTVAList.html#a11">skTVAList&lt;T&gt;::operator[]</a>(USize  n) <span class="keyword">const</span>
00306 <span class="comment">//-----------------------------------------------------------------</span>
00307 {
00308   assert(n&lt;m_Entries);
00309   <span class="keywordflow">if</span> (n&gt;=m_Entries)
00310 <span class="preprocessor">#ifdef EXCEPTIONS_DEFINED</span>
00311 <span class="preprocessor"></span>    <span class="keywordflow">throw</span> <a class="code" href="classskBoundsException.html">skBoundsException</a>(skSTR(<span class="stringliteral">"Invalid index to []"</span>),__FILE__,__LINE__);
00312 <span class="preprocessor">#else</span>
00313 <span class="preprocessor"></span>  ExitSystem();
00314 <span class="preprocessor">#endif</span>
00315 <span class="preprocessor"></span>  <span class="keywordflow">return</span> m_Array[n];
00316 }
00317 <span class="comment">//-----------------------------------------------------------------</span>
<a name="l00318"></a><a class="code" href="classskTVAList.html#a12">00318</a> skTVALIST_PRE <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classskTVAList.html#a12">skTVAList&lt;T&gt;::index</a>(<span class="keyword">const</span> T &amp;t) <span class="keyword">const</span>
00319 <span class="comment">//-----------------------------------------------------------------</span>
00320 {
00321   <span class="keywordflow">return</span> (USize)findElt(t);
00322 }
00323 <span class="comment">//-----------------------------------------------------------------</span>
<a name="l00324"></a><a class="code" href="classskTVAList.html#a13">00324</a> skTVALIST_PRE <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classskTVAList.html#a13">skTVAList&lt;T&gt;::contains</a>(<span class="keyword">const</span> T &amp;t) <span class="keyword">const</span>
00325 <span class="comment">//-----------------------------------------------------------------</span>
00326 {
00327   <span class="keywordflow">return</span> (bool)(findElt(t) &gt;= 0);
00328 }
00329 <span class="comment">//-----------------------------------------------------------------</span>
<a name="l00330"></a><a class="code" href="classskTVAList.html#a3">00330</a> skTVALIST_PRE <span class="keywordtype">void</span> <a class="code" href="classskTVAList.html#a3">skTVAList&lt;T&gt;::moveFrom</a>(<a class="code" href="classskTVAList.html">skTVAList&lt;T&gt;</a>&amp; l)
00331 <span class="comment">//-----------------------------------------------------------------</span>
00332 {
00333   <span class="keywordflow">if</span> (&amp;l!=<span class="keyword">this</span>){
00334     <a class="code" href="classskTVAList.html#a4">clear</a>();
00335     <span class="comment">// transfer the other list's contents across to us</span>
00336     <a class="code" href="classskTVAList.html#n1">m_ArraySize</a>=l.<a class="code" href="classskTVAList.html#n1">m_ArraySize</a>;
00337     <a class="code" href="classskTVAList.html#n2">m_Entries</a>=l.<a class="code" href="classskTVAList.html#n2">m_Entries</a>;
00338     <a class="code" href="classskTVAList.html#n0">m_Array</a>=l.<a class="code" href="classskTVAList.html#n0">m_Array</a>;
00339     l.<a class="code" href="classskTVAList.html#n1">m_ArraySize</a>=0;
00340     l.<a class="code" href="classskTVAList.html#n2">m_Entries</a>=0;
00341     l.<a class="code" href="classskTVAList.html#n0">m_Array</a>=0;
00342   }
00343 }
00344 <span class="comment">//-----------------------------------------------------------------</span>
<a name="l00345"></a><a class="code" href="classskTVAList.html#a2">00345</a> skTVALIST_PRE <a class="code" href="classskTVAList.html">skTVAList&lt;T&gt;</a>&amp; <a class="code" href="classskTVAList.html#a2">skTVAList&lt;T&gt;::operator=</a>(<span class="keyword">const</span> <a class="code" href="classskTVAList.html">skTVAList&lt;T&gt;</a>&amp; l)
00346 <span class="comment">//-----------------------------------------------------------------</span>
00347 {
00348   <span class="keywordflow">if</span> (&amp;l!=<span class="keyword">this</span>){
00349     <a class="code" href="classskTVAList.html#a4">clear</a>();
00350     <a class="code" href="classskTVAList.html#n1">m_ArraySize</a>=l.<a class="code" href="classskTVAList.html#n2">m_Entries</a>;
00351     <a class="code" href="classskTVAList.html#n2">m_Entries</a>=l.<a class="code" href="classskTVAList.html#n2">m_Entries</a>;
00352     <span class="keywordflow">if</span>(m_Entries){
00353       <a class="code" href="classskTVAList.html#n0">m_Array</a>=skARRAY_NEW(T,<a class="code" href="classskTVAList.html#n2">m_Entries</a>);
00354       <span class="keywordflow">for</span> (USize x=0;x&lt;<a class="code" href="classskTVAList.html#n2">m_Entries</a>;x++)           
00355         <a class="code" href="classskTVAList.html#n0">m_Array</a>[x]=l.<a class="code" href="classskTVAList.html#n0">m_Array</a>[x];
00356     }<span class="keywordflow">else</span>{
00357       <a class="code" href="classskTVAList.html#n0">m_Array</a>=0;        <span class="comment">// don't allocate until needed</span>
00358       <a class="code" href="classskTVAList.html#n1">m_ArraySize</a>=0;
00359     }
00360   }
00361   <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00362 }
00363 <span class="comment">// Returns -1 if not found.</span>
00364 <span class="comment">//-----------------------------------------------------------------</span>
<a name="l00365"></a><a class="code" href="classskTVAList.html#b0">00365</a> skTVALIST_PRE <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classskTVAList.html#b0">skTVAList&lt;T&gt;::findElt</a>(<span class="keyword">const</span> T &amp;t) <span class="keyword">const</span>
00366 <span class="comment">//-----------------------------------------------------------------</span>
00367 {
00368   <span class="keywordflow">for</span> (USize index=0;index&lt;m_Entries;index++){
00369     <span class="keywordflow">if</span> (m_Array[index]==t)
00370       <span class="keywordflow">return</span> (int)index;                <span class="comment">// jump out</span>
00371   }
00372   <span class="keywordflow">return</span> -1;
00373 }
00374 <span class="comment">//-----------------------------------------------------------------</span>
<a name="l00375"></a><a class="code" href="classskTVAList.html#b1">00375</a> skTVALIST_PRE <span class="keywordtype">void</span> <a class="code" href="classskTVAList.html#b1">skTVAList&lt;T&gt;::grow</a>()
00376 <span class="comment">//-----------------------------------------------------------------</span>
00377 {
00378   <a class="code" href="classskTVAList.html#n1">m_ArraySize</a> *= 2;     <span class="comment">// constant increase in size</span>
00379   T *  new_array=skARRAY_NEW(T,<a class="code" href="classskTVAList.html#n1">m_ArraySize</a>);
00380   <span class="keywordflow">if</span>(m_Array){
00381     <span class="keywordflow">for</span> (USize x=0;x&lt;<a class="code" href="classskTVAList.html#n2">m_Entries</a>;x++)             
00382       new_array[x]=<a class="code" href="classskTVAList.html#n0">m_Array</a>[x];
00383     <span class="keyword">delete</span> [] m_Array;
00384   }
00385   <a class="code" href="classskTVAList.html#n0">m_Array</a>=new_array;
00386 }
00387 <span class="comment">//-----------------------------------------------------------------</span>
<a name="l00388"></a><a class="code" href="classskTVAList.html#a14">00388</a> skTVALIST_PRE <span class="keywordtype">void</span> <a class="code" href="classskTVAList.html#a14">skTVAList&lt;T&gt;::growTo</a>(USize new_size)
00389 <span class="comment">//-----------------------------------------------------------------</span>
00390 {
00391   <span class="keywordflow">if</span> (new_size&gt;<a class="code" href="classskTVAList.html#n1">m_ArraySize</a>){
00392     <a class="code" href="classskTVAList.html#n1">m_ArraySize</a>=new_size;
00393 
00394     T *  new_array=skARRAY_NEW(T,<a class="code" href="classskTVAList.html#n1">m_ArraySize</a>);
00395     <span class="keywordflow">if</span>(m_Array){
00396       <span class="keywordflow">for</span> (USize x=0;x&lt;<a class="code" href="classskTVAList.html#n2">m_Entries</a>;x++)           
00397         new_array[x]=<a class="code" href="classskTVAList.html#n0">m_Array</a>[x];
00398       <span class="keyword">delete</span> [] m_Array;
00399     }
00400     <a class="code" href="classskTVAList.html#n0">m_Array</a>=new_array;
00401   }
00402 }
00403 <span class="preprocessor">#ifdef __SYMBIAN32__</span>
00404 <span class="preprocessor"></span><span class="comment">//-------------------------------------------------------------------------</span>
<a name="l00405"></a><a class="code" href="classskTVAList.html#a16">00405</a> skTVALIST_PRE <a class="code" href="classskTVAList.html#a16">skTVAList&lt;T&gt;::operator TCleanupItem</a>()
00406 <span class="comment">//-------------------------------------------------------------------------</span>
00407 <span class="comment">// used for leave support of local variable lists</span>
00408 {
00409   <span class="keywordflow">return</span> TCleanupItem(<a class="code" href="classskTVAList.html#d0">Cleanup</a>,<span class="keyword">this</span>);
00410 }
00411 <span class="comment">//-------------------------------------------------------------------------</span>
<a name="l00412"></a><a class="code" href="classskTVAList.html#d0">00412</a> skTVALIST_PRE <span class="keywordtype">void</span> <a class="code" href="classskTVAList.html#d0">skTVAList&lt;T&gt;::Cleanup</a>(TAny * s)
00413 <span class="comment">//-------------------------------------------------------------------------</span>
00414 <span class="comment">// called in case there is a leave</span>
00415 {
00416   ((<a class="code" href="classskTVAList.html">skTVAList&lt;T&gt;</a> *)s)-&gt;clear();
00417 }
00418 <span class="preprocessor">#endif</span>
00419 <span class="preprocessor"></span>
00420 <span class="preprocessor">#endif</span>
</pre></div><hr><address style="align: right;"><small>Generated on Fri Dec 17 20:28:26 2004 for Simkin C++ for Symbian by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.3 </small></address>
</body>
</html>
