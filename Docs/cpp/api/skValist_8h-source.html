<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>skValist.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3-rc1 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; </center>
<hr><h1>skValist.h</h1><div class="fragment"><pre>00001 <span class="comment">/*</span>
00002 <span class="comment">  Copyright 1996-2003</span>
00003 <span class="comment">  Simon Whiteside</span>
00004 <span class="comment"></span>
00005 <span class="comment">    This library is free software; you can redistribute it and/or</span>
00006 <span class="comment">    modify it under the terms of the GNU Lesser General Public</span>
00007 <span class="comment">    License as published by the Free Software Foundation; either</span>
00008 <span class="comment">    version 2 of the License, or (at your option) any later version.</span>
00009 <span class="comment"></span>
00010 <span class="comment">    This library is distributed in the hope that it will be useful,</span>
00011 <span class="comment">    but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
00012 <span class="comment">    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
00013 <span class="comment">    Lesser General Public License for more details.</span>
00014 <span class="comment"></span>
00015 <span class="comment">    You should have received a copy of the GNU Lesser General Public</span>
00016 <span class="comment">    License along with this library; if not, write to the Free Software</span>
00017 <span class="comment">    Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</span>
00018 <span class="comment"></span>
00019 <span class="comment">* $Id: skValist_8h-source.html,v 1.5 2003/01/23 15:31:03 simkin_cvs Exp $</span>
00020 <span class="comment">*/</span>
00021 
00022 <span class="preprocessor">#ifndef skVALIST_H</span>
00023 <span class="preprocessor"></span><span class="preprocessor">#define skVALIST_H</span>
00024 <span class="preprocessor"></span>
00025 
00026 <span class="preprocessor">#include "skGeneral.h"</span>
00027 <span class="preprocessor">#include "skBoundsException.h"</span>
00028     
<a name="l00032"></a><a class="code" href="classskTVAList.html">00032</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">class </span><a class="code" href="classskTVAList.html">skTVAList</a> 
00033 {         
00034  <span class="keyword">public</span>:
00038   <a class="code" href="classskTVAList.html#a0">skTVAList</a>();
00042   <a class="code" href="classskTVAList.html#a0">skTVAList</a>(<span class="keyword">const</span> <a class="code" href="classskTVAList.html">skTVAList&lt;T&gt;</a>&amp;);
00046   <a class="code" href="classskTVAList.html#a0">skTVAList</a>(USize initial_size,USize growth_increment);
00050   <span class="keyword">virtual</span> <a class="code" href="classskTVAList.html#a3">~skTVAList</a>();                                 
00054   <a class="code" href="classskTVAList.html">skTVAList</a>&amp; <a class="code" href="classskTVAList.html#a4">operator=</a>(<span class="keyword">const</span> <a class="code" href="classskTVAList.html">skTVAList&lt;T&gt;</a>&amp;);
00058   <span class="keywordtype">void</span>  <a class="code" href="classskTVAList.html#a5">clear</a>();                                        
00062   USize <a class="code" href="classskTVAList.html#a6">entries</a>() <span class="keyword">const</span>;
00067   <span class="keywordtype">void</span>  <a class="code" href="classskTVAList.html#a7">deleteElt</a>(USize  n);
00071   <span class="keywordtype">void</span>  <a class="code" href="classskTVAList.html#a8">prepend</a>(<span class="keyword">const</span> T &amp;t);
00076   <span class="keywordtype">void</span>  <a class="code" href="classskTVAList.html#a9">insert</a>(<span class="keyword">const</span> T &amp;t,USize <a class="code" href="classskTVAList.html#a13">index</a>);
00080   <span class="keywordtype">void</span>  <a class="code" href="classskTVAList.html#a10">append</a>(<span class="keyword">const</span> T &amp;t);
00084   <span class="keywordtype">void</span>  <a class="code" href="classskTVAList.html#a11">remove</a>(<span class="keyword">const</span> T &amp;t);     
00090   T&amp; <a class="code" href="classskTVAList.html#a12">operator[]</a>(USize  n) <span class="keyword">const</span>;
00095   <span class="keywordtype">int</span> <a class="code" href="classskTVAList.html#a13">index</a>(<span class="keyword">const</span> T &amp;t) <span class="keyword">const</span>;
00100   <span class="keywordtype">bool</span>  <a class="code" href="classskTVAList.html#a14">contains</a>(<span class="keyword">const</span> T &amp;t) <span class="keyword">const</span>;
00104   <span class="keywordtype">void</span>  <a class="code" href="classskTVAList.html#a15">growTo</a>(USize new_size);
00105  <span class="keyword">protected</span>:
00109   <span class="keywordtype">int</span>   <a class="code" href="classskTVAList.html#b0">findElt</a>(<span class="keyword">const</span> T &amp;t) <span class="keyword">const</span>;
00113   <span class="keywordtype">void</span>  <a class="code" href="classskTVAList.html#b1">grow</a>();
<a name="l00117"></a><a class="code" href="classskTVAList.html#n0">00117</a>   T*  <a class="code" href="classskTVAList.html#n0">m_Array</a>;  
<a name="l00121"></a><a class="code" href="classskTVAList.html#n1">00121</a>   USize <a class="code" href="classskTVAList.html#n1">m_ArraySize</a>;
<a name="l00125"></a><a class="code" href="classskTVAList.html#n2">00125</a>   USize <a class="code" href="classskTVAList.html#n2">m_Entries</a>;
<a name="l00129"></a><a class="code" href="classskTVAList.html#n3">00129</a>   USize <a class="code" href="classskTVAList.html#n3">m_GrowthIncrement</a>;
00130 };        
00131 <span class="keyword">const</span> <span class="keywordtype">int</span> skTVALIST_DEFAULT_SIZE = 0;                                   <span class="comment">// so array not allocated until needed</span>
00132 <span class="keyword">const</span> <span class="keywordtype">int</span> skTVALIST_DEFAULT_GROWTH_INCREMENT = 4;       <span class="comment">// value of 0 means 'double in size'</span>
00133 
00134 <span class="preprocessor">#ifdef __gnuc__</span>
00135 <span class="preprocessor"></span><span class="preprocessor">#define skTVALIST_PRE template &lt;class T&gt; </span>
00136 <span class="preprocessor"></span><span class="preprocessor">#else</span>
00137 <span class="preprocessor"></span><span class="preprocessor">#define skTVALIST_PRE template &lt;class T&gt; </span>
00138 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00139 <span class="preprocessor"></span>
00140 
00141 <span class="comment">//-----------------------------------------------------------------</span>
<a name="l00142"></a><a class="code" href="classskTVAList.html#a0">00142</a> skTVALIST_PRE <span class="keyword">inline</span> <a class="code" href="classskTVAList.html#a0">skTVAList&lt;T&gt;::skTVAList</a>()
00143      <span class="comment">//-----------------------------------------------------------------</span>
00144   :m_ArraySize(skTVALIST_DEFAULT_SIZE),m_GrowthIncrement(skTVALIST_DEFAULT_GROWTH_INCREMENT),m_Entries(0)
00145 {
00146   <span class="keywordflow">if</span>(skTVALIST_DEFAULT_SIZE != 0)
00147     <a class="code" href="classskTVAList.html#n0">m_Array</a>=<span class="keyword">new</span> T[skTVALIST_DEFAULT_SIZE];
00148   <span class="keywordflow">else</span>
00149     <a class="code" href="classskTVAList.html#n0">m_Array</a> = 0;                <span class="comment">// don't allocate space until needed</span>
00150 }
00151 <span class="comment">//-----------------------------------------------------------------</span>
<a name="l00152"></a><a class="code" href="classskTVAList.html#a2">00152</a> skTVALIST_PRE <span class="keyword">inline</span> <a class="code" href="classskTVAList.html#a0">skTVAList&lt;T&gt;::skTVAList</a>(USize initial_size,USize growth_increment)
00153      <span class="comment">//-----------------------------------------------------------------</span>
00154   :m_ArraySize(initial_size),m_GrowthIncrement(growth_increment),m_Entries(0)
00155 {
00156   <span class="keywordflow">if</span>(<a class="code" href="classskTVAList.html#n1">m_ArraySize</a> != 0)
00157     <a class="code" href="classskTVAList.html#n0">m_Array</a>=<span class="keyword">new</span> T[<a class="code" href="classskTVAList.html#n1">m_ArraySize</a>];
00158   <span class="keywordflow">else</span>
00159     <a class="code" href="classskTVAList.html#n0">m_Array</a> = 0;                <span class="comment">// don't allocate space until needed</span>
00160 }
00161 <span class="comment">//-----------------------------------------------------------------</span>
<a name="l00162"></a><a class="code" href="classskTVAList.html#a1">00162</a> skTVALIST_PRE <span class="keyword">inline</span> <a class="code" href="classskTVAList.html#a0">skTVAList&lt;T&gt;::skTVAList</a>(<span class="keyword">const</span> <a class="code" href="classskTVAList.html">skTVAList</a>&amp; l)
00163      <span class="comment">//-----------------------------------------------------------------</span>
00164   : m_ArraySize(l.m_ArraySize),m_Entries(l.m_Entries),m_GrowthIncrement(l.m_GrowthIncrement)
00165 {
00166   <span class="keywordflow">if</span>(m_ArraySize){
00167     <a class="code" href="classskTVAList.html#n0">m_Array</a>=<span class="keyword">new</span> T[<a class="code" href="classskTVAList.html#n1">m_ArraySize</a>];
00168     <span class="keywordflow">for</span> (USize x=0;x&lt;<a class="code" href="classskTVAList.html#n2">m_Entries</a>;x++)
00169       <a class="code" href="classskTVAList.html#n0">m_Array</a>[x]=l.m_Array[x];
00170   }<span class="keywordflow">else</span>
00171     <a class="code" href="classskTVAList.html#n0">m_Array</a> = 0;
00172 }
00173 <span class="comment">//-----------------------------------------------------------------</span>
<a name="l00174"></a><a class="code" href="classskTVAList.html#a3">00174</a> skTVALIST_PRE <span class="keyword">inline</span> <a class="code" href="classskTVAList.html#a3">skTVAList&lt;T&gt;::~skTVAList</a>()
00175      <span class="comment">//-----------------------------------------------------------------</span>
00176 {
00177   <span class="keywordflow">if</span>(m_Array)
00178     <span class="keyword">delete</span> [] <a class="code" href="classskTVAList.html#n0">m_Array</a>;
00179 }
00180 <span class="comment">//-----------------------------------------------------------------</span>
<a name="l00181"></a><a class="code" href="classskTVAList.html#a5">00181</a> skTVALIST_PRE <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classskTVAList.html#a5">skTVAList&lt;T&gt;::clear</a>()
00182      <span class="comment">//-----------------------------------------------------------------</span>
00183 {
00184   <a class="code" href="classskTVAList.html#n2">m_Entries</a>=0;
00185   <span class="keywordflow">if</span>(m_Array)
00186     <span class="keyword">delete</span> [] <a class="code" href="classskTVAList.html#n0">m_Array</a>;
00187   <a class="code" href="classskTVAList.html#n0">m_Array</a>=0;
00188   <a class="code" href="classskTVAList.html#n1">m_ArraySize</a>=0;
00189 }
00190 <span class="comment">//-----------------------------------------------------------------</span>
<a name="l00191"></a><a class="code" href="classskTVAList.html#a6">00191</a> skTVALIST_PRE <span class="keyword">inline</span> USize <a class="code" href="classskTVAList.html#a6">skTVAList&lt;T&gt;::entries</a>() <span class="keyword">const</span>
00192      <span class="comment">//-----------------------------------------------------------------</span>
00193 {
00194   <span class="keywordflow">return</span> m_Entries;
00195 }
00196 <span class="comment">//-----------------------------------------------------------------</span>
<a name="l00197"></a><a class="code" href="classskTVAList.html#a7">00197</a> skTVALIST_PRE <span class="keywordtype">void</span> <a class="code" href="classskTVAList.html#a7">skTVAList&lt;T&gt;::deleteElt</a>(USize  n)
00198      <span class="comment">//-----------------------------------------------------------------</span>
00199 {
00200   assert(n&lt;<a class="code" href="classskTVAList.html#n2">m_Entries</a>);
00201   <span class="keywordflow">if</span> (n&gt;=<a class="code" href="classskTVAList.html#n2">m_Entries</a>)
00202 <span class="preprocessor">#ifdef EXCEPTIONS_DEFINED</span>
00203 <span class="preprocessor"></span>    <span class="keywordflow">throw</span> <a class="code" href="classskBoundsException.html">skBoundsException</a>(<span class="stringliteral">"Invalid index to DeleteElt"</span>,__FILE__,__LINE__);
00204 <span class="preprocessor">#else</span>
00205 <span class="preprocessor"></span>    exit(EXIT_FAILURE);
00206 <span class="preprocessor">#endif</span>
00207 <span class="preprocessor"></span>  <span class="keywordflow">for</span> (USize x=n;x&lt;<a class="code" href="classskTVAList.html#n2">m_Entries</a>-1;x++)
00208     <a class="code" href="classskTVAList.html#n0">m_Array</a>[x]=<a class="code" href="classskTVAList.html#n0">m_Array</a>[x+1];
00209   <a class="code" href="classskTVAList.html#n2">m_Entries</a>--;
00210 }
00211 <span class="comment">//-----------------------------------------------------------------</span>
<a name="l00212"></a><a class="code" href="classskTVAList.html#a9">00212</a> skTVALIST_PRE <span class="keywordtype">void</span> <a class="code" href="classskTVAList.html#a9">skTVAList&lt;T&gt;::insert</a>(<span class="keyword">const</span> T &amp;t,USize index)
00213      <span class="comment">//-----------------------------------------------------------------</span>
00214 {
00215   assert(<a class="code" href="classskTVAList.html#a13">index</a>&lt;=<a class="code" href="classskTVAList.html#n2">m_Entries</a>);
00216   <span class="keywordflow">if</span> (<a class="code" href="classskTVAList.html#a13">index</a>&gt;<a class="code" href="classskTVAList.html#n2">m_Entries</a>)
00217 <span class="preprocessor">#ifdef EXCEPTIONS_DEFINED</span>
00218 <span class="preprocessor"></span>    <span class="keywordflow">throw</span> <a class="code" href="classskBoundsException.html">skBoundsException</a>(<span class="stringliteral">"Invalid index to Insert"</span>,__FILE__,__LINE__);
00219 <span class="preprocessor">#else</span>
00220 <span class="preprocessor"></span>    exit(EXIT_FAILURE);
00221 <span class="preprocessor">#endif</span>
00222 <span class="preprocessor"></span>  <span class="keywordflow">if</span> (<a class="code" href="classskTVAList.html#n1">m_ArraySize</a>==<a class="code" href="classskTVAList.html#n2">m_Entries</a>)
00223     <a class="code" href="classskTVAList.html#b1">grow</a>();
00224   <span class="keywordflow">if</span> (<a class="code" href="classskTVAList.html#a13">index</a>&lt;<a class="code" href="classskTVAList.html#n2">m_Entries</a>){
00225     <span class="keywordflow">for</span> (USize x=<a class="code" href="classskTVAList.html#n2">m_Entries</a>;x&gt;<a class="code" href="classskTVAList.html#a13">index</a>;x--)
00226       <a class="code" href="classskTVAList.html#n0">m_Array</a>[x]=<a class="code" href="classskTVAList.html#n0">m_Array</a>[x-1];
00227   }
00228   <a class="code" href="classskTVAList.html#n0">m_Array</a>[<a class="code" href="classskTVAList.html#a13">index</a>]=t;
00229   <a class="code" href="classskTVAList.html#n2">m_Entries</a>++;
00230 }
00231 <span class="comment">//-----------------------------------------------------------------</span>
<a name="l00232"></a><a class="code" href="classskTVAList.html#a8">00232</a> skTVALIST_PRE <span class="keywordtype">void</span> <a class="code" href="classskTVAList.html#a8">skTVAList&lt;T&gt;::prepend</a>(<span class="keyword">const</span> T &amp;t)
00233      <span class="comment">//-----------------------------------------------------------------</span>
00234 {
00235   <span class="keywordflow">if</span> (<a class="code" href="classskTVAList.html#n1">m_ArraySize</a>==<a class="code" href="classskTVAList.html#n2">m_Entries</a>)
00236     <a class="code" href="classskTVAList.html#b1">grow</a>();
00237   <a class="code" href="classskTVAList.html#n2">m_Entries</a>++;
00238   <span class="keywordflow">for</span> (USize x=<a class="code" href="classskTVAList.html#n2">m_Entries</a>-1;x&gt;=1;x--)
00239     <a class="code" href="classskTVAList.html#n0">m_Array</a>[x]=<a class="code" href="classskTVAList.html#n0">m_Array</a>[x-1];
00240   <a class="code" href="classskTVAList.html#n0">m_Array</a>[0]=t;
00241 }
00242 <span class="comment">//-----------------------------------------------------------------</span>
<a name="l00243"></a><a class="code" href="classskTVAList.html#a10">00243</a> skTVALIST_PRE <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classskTVAList.html#a10">skTVAList&lt;T&gt;::append</a>(<span class="keyword">const</span> T &amp;t)
00244      <span class="comment">//-----------------------------------------------------------------</span>
00245 {
00246   <span class="keywordflow">if</span> (<a class="code" href="classskTVAList.html#n1">m_ArraySize</a>==<a class="code" href="classskTVAList.html#n2">m_Entries</a>)
00247     <a class="code" href="classskTVAList.html#b1">grow</a>();
00248   <a class="code" href="classskTVAList.html#n0">m_Array</a>[<a class="code" href="classskTVAList.html#n2">m_Entries</a>]=t;
00249   <a class="code" href="classskTVAList.html#n2">m_Entries</a>++;
00250 }
00251 <span class="comment">//-----------------------------------------------------------------</span>
<a name="l00252"></a><a class="code" href="classskTVAList.html#a11">00252</a> skTVALIST_PRE <span class="keywordtype">void</span> <a class="code" href="classskTVAList.html#a11">skTVAList&lt;T&gt;::remove</a>(<span class="keyword">const</span> T &amp;t)
00253      <span class="comment">//-----------------------------------------------------------------</span>
00254 {
00255   <span class="keywordtype">int</span> <a class="code" href="classskTVAList.html#a13">index</a> = <a class="code" href="classskTVAList.html#b0">findElt</a>(t);
00256   assert(<a class="code" href="classskTVAList.html#a13">index</a>&gt;=0 &amp;&amp; <span class="stringliteral">"VAList does not contain item"</span>!=0);
00257   <span class="keywordflow">if</span> (<a class="code" href="classskTVAList.html#a13">index</a>&gt;=0){
00258     <span class="keywordflow">for</span> (USize x=(USize)<a class="code" href="classskTVAList.html#a13">index</a>;x&lt;<a class="code" href="classskTVAList.html#n2">m_Entries</a>-1;x++)
00259       <a class="code" href="classskTVAList.html#n0">m_Array</a>[x]=<a class="code" href="classskTVAList.html#n0">m_Array</a>[x+1];
00260 
00261     <a class="code" href="classskTVAList.html#n2">m_Entries</a>--;
00262   }
00263 }
00264 <span class="comment">//-----------------------------------------------------------------</span>
<a name="l00265"></a><a class="code" href="classskTVAList.html#a12">00265</a> skTVALIST_PRE <span class="keyword">inline</span> T&amp; <a class="code" href="classskTVAList.html#a12">skTVAList&lt;T&gt;::operator[]</a>(USize  n) <span class="keyword">const</span>
00266      <span class="comment">//-----------------------------------------------------------------</span>
00267 {
00268   assert(n&lt;m_Entries);
00269   <span class="keywordflow">if</span> (n&gt;=m_Entries)
00270 <span class="preprocessor">#ifdef EXCEPTIONS_DEFINED</span>
00271 <span class="preprocessor"></span>    <span class="keywordflow">throw</span> <a class="code" href="classskBoundsException.html">skBoundsException</a>(skSTR(<span class="stringliteral">"Invalid index to []"</span>),__FILE__,__LINE__);
00272 <span class="preprocessor">#else</span>
00273 <span class="preprocessor"></span>    exit(EXIT_FAILURE);
00274 <span class="preprocessor">#endif</span>
00275 <span class="preprocessor"></span>  <span class="keywordflow">return</span> m_Array[n];
00276 }
00277 <span class="comment">//-----------------------------------------------------------------</span>
<a name="l00278"></a><a class="code" href="classskTVAList.html#a13">00278</a> skTVALIST_PRE <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classskTVAList.html#a13">skTVAList&lt;T&gt;::index</a>(<span class="keyword">const</span> T &amp;t) <span class="keyword">const</span>
00279      <span class="comment">//-----------------------------------------------------------------</span>
00280 {
00281   <span class="keywordflow">return</span> (USize)findElt(t);
00282 }
00283 <span class="comment">//-----------------------------------------------------------------</span>
<a name="l00284"></a><a class="code" href="classskTVAList.html#a14">00284</a> skTVALIST_PRE <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classskTVAList.html#a14">skTVAList&lt;T&gt;::contains</a>(<span class="keyword">const</span> T &amp;t) <span class="keyword">const</span>
00285      <span class="comment">//-----------------------------------------------------------------</span>
00286 {
00287   <span class="keywordflow">return</span> (bool)(findElt(t) &gt;= 0);
00288 }
00289 <span class="comment">//-----------------------------------------------------------------</span>
<a name="l00290"></a><a class="code" href="classskTVAList.html#a4">00290</a> skTVALIST_PRE <a class="code" href="classskTVAList.html">skTVAList&lt;T&gt;</a>&amp; <a class="code" href="classskTVAList.html#a4">skTVAList&lt;T&gt;::operator=</a>(<span class="keyword">const</span> <a class="code" href="classskTVAList.html">skTVAList&lt;T&gt;</a>&amp; l)
00291      <span class="comment">//-----------------------------------------------------------------</span>
00292 {
00293   <span class="keywordflow">if</span> (&amp;l!=<span class="keyword">this</span>){
00294     <a class="code" href="classskTVAList.html#a5">clear</a>();
00295     <a class="code" href="classskTVAList.html#n1">m_ArraySize</a>=l.<a class="code" href="classskTVAList.html#n1">m_ArraySize</a>;
00296     <a class="code" href="classskTVAList.html#n2">m_Entries</a>=l.<a class="code" href="classskTVAList.html#n2">m_Entries</a>;
00297     <a class="code" href="classskTVAList.html#n3">m_GrowthIncrement</a>=l.<a class="code" href="classskTVAList.html#n3">m_GrowthIncrement</a>;
00298     <span class="keywordflow">if</span>(m_Entries){
00299       <a class="code" href="classskTVAList.html#n0">m_Array</a>=<span class="keyword">new</span> T[<a class="code" href="classskTVAList.html#n1">m_ArraySize</a>];
00300       <span class="keywordflow">for</span> (USize x=0;x&lt;<a class="code" href="classskTVAList.html#n2">m_Entries</a>;x++)           <span class="comment">//??use memcopy for speed</span>
00301         <a class="code" href="classskTVAList.html#n0">m_Array</a>[x]=l.<a class="code" href="classskTVAList.html#n0">m_Array</a>[x];
00302     }<span class="keywordflow">else</span>{
00303       <a class="code" href="classskTVAList.html#n0">m_Array</a>=0;        <span class="comment">// don't allocate until needed</span>
00304       <a class="code" href="classskTVAList.html#n1">m_ArraySize</a>=0;
00305     }
00306   }
00307   <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00308 }
00309 <span class="comment">// Returns -1 if not found.</span>
00310 <span class="comment">//-----------------------------------------------------------------</span>
<a name="l00311"></a><a class="code" href="classskTVAList.html#b0">00311</a> skTVALIST_PRE <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classskTVAList.html#b0">skTVAList&lt;T&gt;::findElt</a>(<span class="keyword">const</span> T &amp;t) <span class="keyword">const</span>
00312      <span class="comment">//-----------------------------------------------------------------</span>
00313 {
00314   <span class="keywordflow">for</span> (USize index=0;index&lt;m_Entries;index++){
00315     <span class="keywordflow">if</span> (m_Array[index]==t)
00316       <span class="keywordflow">return</span> (int)index;                <span class="comment">// jump out</span>
00317   }
00318   <span class="keywordflow">return</span> -1;
00319 }
00320 <span class="comment">//-----------------------------------------------------------------</span>
<a name="l00321"></a><a class="code" href="classskTVAList.html#b1">00321</a> skTVALIST_PRE <span class="keywordtype">void</span> <a class="code" href="classskTVAList.html#b1">skTVAList&lt;T&gt;::grow</a>()
00322      <span class="comment">//-----------------------------------------------------------------</span>
00323 {
00324   <span class="keywordflow">if</span>(<a class="code" href="classskTVAList.html#n3">m_GrowthIncrement</a> != 0)
00325     <a class="code" href="classskTVAList.html#n1">m_ArraySize</a> += <a class="code" href="classskTVAList.html#n3">m_GrowthIncrement</a>;   <span class="comment">// constant increase in size</span>
00326   <span class="keywordflow">else</span>{
00327     <span class="keywordflow">if</span>(<a class="code" href="classskTVAList.html#n1">m_ArraySize</a>==0)
00328       <a class="code" href="classskTVAList.html#n1">m_ArraySize</a> = 1;
00329     <span class="keywordflow">else</span>
00330       <a class="code" href="classskTVAList.html#n1">m_ArraySize</a> *= 2;                 <span class="comment">// double size</span>
00331   }
00332 
00333   T *  new_array=<span class="keyword">new</span> T[<a class="code" href="classskTVAList.html#n1">m_ArraySize</a>];
00334   <span class="keywordflow">if</span>(m_Array){
00335     <span class="keywordflow">for</span> (USize x=0;x&lt;<a class="code" href="classskTVAList.html#n2">m_Entries</a>;x++)             <span class="comment">//??use memcopy for speed</span>
00336       new_array[x]=<a class="code" href="classskTVAList.html#n0">m_Array</a>[x];
00337     <span class="keyword">delete</span> [] <a class="code" href="classskTVAList.html#n0">m_Array</a>;
00338   }
00339   <a class="code" href="classskTVAList.html#n0">m_Array</a>=new_array;
00340 }
00341 <span class="comment">//-----------------------------------------------------------------</span>
<a name="l00342"></a><a class="code" href="classskTVAList.html#a15">00342</a> skTVALIST_PRE <span class="keywordtype">void</span> <a class="code" href="classskTVAList.html#a15">skTVAList&lt;T&gt;::growTo</a>(USize new_size)
00343      <span class="comment">//-----------------------------------------------------------------</span>
00344 {
00345   <span class="keywordflow">if</span> (new_size&gt;<a class="code" href="classskTVAList.html#n1">m_ArraySize</a>){
00346     <a class="code" href="classskTVAList.html#n1">m_ArraySize</a>=new_size;
00347 
00348     T *  new_array=<span class="keyword">new</span> T[<a class="code" href="classskTVAList.html#n1">m_ArraySize</a>];
00349     <span class="keywordflow">if</span>(m_Array){
00350       <span class="keywordflow">for</span> (USize x=0;x&lt;<a class="code" href="classskTVAList.html#n2">m_Entries</a>;x++)           <span class="comment">//??use memcopy for speed</span>
00351         new_array[x]=<a class="code" href="classskTVAList.html#n0">m_Array</a>[x];
00352       <span class="keyword">delete</span> [] <a class="code" href="classskTVAList.html#n0">m_Array</a>;
00353     }
00354     <a class="code" href="classskTVAList.html#n0">m_Array</a>=new_array;
00355   }
00356 }
00357 
00358 <span class="preprocessor">#endif</span>
</pre></div><hr><address style="align: right;"><small>Generated on Thu Jan 23 15:25:39 2003 for Simkin by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.3-rc1 </small></address>
</body>
</html>
